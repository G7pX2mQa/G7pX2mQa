/* ===== Page background ===== */
.menu-bg {
  position: relative;
  isolation: isolate;
  background: radial-gradient(1200px 800px at 50% 0%, var(--menu-cyan) 0%, var(--menu-cyan-2) 100%);
}

/* Animated coin silhouette overlay */
.menu-bg::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;

  /* Inline SVG coin ring pattern */
  --coin-svg: url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='64' height='64' viewBox='0 0 64 64'>\
  <g fill='none' stroke='%23ffffff' stroke-width='2'>\
    <circle cx='32' cy='32' r='18'/>\
    <circle cx='32' cy='32' r='14'/>\
  </g>\
</svg>");

  background-image: var(--coin-svg);
  background-repeat: repeat;
  background-size: var(--coin-pattern-size) var(--coin-pattern-size);
  opacity: var(--coin-pattern-opacity);
  filter: grayscale(100%) brightness(60%) opacity(var(--coin-pattern-opacity));
  animation: coinDrift var(--coin-pattern-speed) linear infinite;
}

@keyframes coinDrift {
  0% { background-position: 0 0; }
  100% { background-position: 200% 200%; }
}

@media (prefers-reduced-motion: reduce) {
  .menu-bg::before { animation: none; }
}

/* ===== Root layout ===== */
.menu-root {
  height: 100svh;
  display: grid;
  grid-template-rows: min-content min-content;
  justify-items: center;
  align-items: start;
  align-content: center;
  row-gap: var(--space-5);
  padding-top: calc(env(safe-area-inset-top, 0px) + var(--space-4));
  padding-bottom: calc(env(safe-area-inset-bottom, 0px) + var(--space-4));
  padding-left: max(env(safe-area-inset-left, 0px), var(--space-6), 3vw);
  padding-right: max(env(safe-area-inset-right, 0px), var(--space-6), 3vw);
}

.menu-header { text-align: center; }

/* ===== Panel base ===== */
.menu-panel {
  position: relative;
  width: 100%;
  max-width: 980px;
  background: var(--panel);
  border: 1px solid #1e2a3d;
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-1);
  backdrop-filter: blur(6px);
  padding: clamp(var(--space-5), 2.2vw, var(--space-8));
  display: grid;
  grid-auto-rows: min-content;
  row-gap: var(--space-4);
  max-height: calc(
    100svh - env(safe-area-inset-top, 0px)
    - env(safe-area-inset-bottom, 0px)
    - 2 * var(--space-4)
    - 3.5rem
  );
  overflow: visible;
}

.panel-title {
  font-size: var(--h2);
  color: var(--text-2);
  text-transform: uppercase;
  letter-spacing: .4px;
  margin-bottom: var(--space-2);
}

/* ===== Desktop visuals ===== */
@media (min-width: 1024px) {
  .menu-panel {
    max-width: 1200px;
    background: linear-gradient(180deg, #111827f5, #0b1220f5);
    border: 1px solid #2a3852;
    box-shadow:
      0 14px 32px rgba(0, 0, 0, .5),
      inset 0 1px 0 rgba(255, 255, 255, .06);
  }
}

/* ===== Mobile / short screens ===== */
@media (max-width: 900px), (max-height: 600px) {
  html, body {
    height: auto;
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
  .menu-root {
    height: auto;
    min-height: 100dvh;
    row-gap: var(--space-4);
  }
  .menu-panel {
    max-height: none;
    padding-bottom: calc(var(--space-8) + env(safe-area-inset-bottom, 0px));
  }
}

/* Keep all menu content above animated background */
.menu-root,
.menu-header,
.menu-panel { position: relative; z-index: 1; }