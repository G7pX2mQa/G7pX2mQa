* { box-sizing: border-box; }

/* === General Page Styling === */
body {
  margin: 0;
  font-family: var(--font-ui);
  color: var(--text-1);
  background: var(--bg-3);
  line-height: 1.45;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
  height: 100svh;
  overflow: hidden;
}

h1, h2, h3, p { margin: 0; }

button {
  font: inherit;
  color: inherit;
  background: none;
  border: 0;
  padding: 0;
  cursor: pointer;
}
button:focus-visible {
  outline: 0;
  box-shadow: 0 0 0 3px var(--ring);
  border-radius: 10px;
}

html, body {
  height: 100%;
  touch-action: none;
  -ms-touch-action: none;
  overscroll-behavior: none;
}

/* Phones & short viewports: allow scroll */
@media (max-width: 900px), (max-height: 600px) {
  html, body {
    height: auto;
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
  .menu-root {
    height: auto;
    min-height: 100svh;
    align-content: start;
    row-gap: var(--space-4);
  }
}

/* === Animated coin pattern background ============================
   Light-gray tiny coins, fewer per screen, all same speed, drifting up-right.
   Color is baked into the SVG so it cannot fall back to black.
================================================================== */

body.menu-bg {
  background: var(--bg-3);
  position: relative;
  min-height: 100svh;
  overflow-x: hidden;
  isolation: isolate;
}

@supports (background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg'></svg>")) {
  body.menu-bg::before {
    content: "";
    position: fixed;
    inset: 0;
    z-index: 0;
    pointer-events: none;
    background-repeat: repeat;
    background-size: var(--coin-step) var(--coin-step);
    will-change: background-position;

    background-image:
	  url("data:image/svg+xml;utf8,\
	    <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'>\
		<circle cx='32' cy='32' r='14' fill='none' stroke='%23a0a6ac' stroke-width='1.2' opacity='0.75'/>\
		<circle cx='32' cy='32' r='10.8' fill='none' stroke='%23a0a6ac' stroke-width='0.9' opacity='0.85'/>\
	  </svg>");
    /* subtle darken so gray reads on all displays */
    filter: brightness(0.5);

    animation: ccc-drift var(--coin-speed) linear infinite;
  }
}


/* Diagonal up-right drift (x increases, y decreases) */
@keyframes ccc-drift {
  from { background-position: 0 0; }
  to   { background-position: var(--coin-step) calc(var(--coin-step) * -1); }
}

/* Reduce motion: stop the drift */
@media (prefers-reduced-motion: reduce) {
  body.menu-bg::before { animation: none; }
}

/* Keep UI above background */
.menu-root,
.menu-header,
.menu-panel { position: relative; z-index: 1; }

@media (pointer: coarse) {
  * {
  -webkit-user-select: none;  /* Safari / iOS */
  -moz-user-select: none;     /* Firefox */
  -ms-user-select: none;      /* Old IE */
  user-select: none;
  -webkit-touch-callout: none; /* Disable tap & hold context menu on iOS */
  -webkit-tap-highlight-color: transparent; /* Remove grey tap highlight */
  -webkit-user-drag: none;
}
}